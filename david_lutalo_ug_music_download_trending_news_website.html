<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DavidLutaloUg ‚Ä¢ Free Music Downloads & Trending News</title>
  <meta name="description" content="DavidLutaloUg ‚Äî Browse trending Ugandan music, download free MP3s, and read trending entertainment news." />
  <meta name="theme-color" content="#0b1020" />

  <!--
    Single-file demo website (HTML + CSS + JS)
    - Responsive layout
    - Search + filter
    - Music download cards
    - Trending news
    - Mobile nav
    - LocalStorage: downloads + favorites

    NOTE:
    - Replace placeholder data with your real music files and news.
    - For real downloads, host your MP3s and update the "file" URLs.
  -->

  <style>
    :root{
      --bg:#070a12;
      --panel:#0b1020;
      --panel2:#0e1730;
      --text:#e9ecf6;
      --muted:#aab2d5;
      --line:rgba(255,255,255,.08);
      --brand:#7c5cff;
      --brand2:#00d4ff;
      --good:#2de38b;
      --warn:#ffcc66;
      --bad:#ff5c7a;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius:18px;
      --radius2:22px;
      --max:1180px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1000px 700px at 10% 0%, rgba(124,92,255,.20), transparent 60%),
        radial-gradient(900px 650px at 100% 20%, rgba(0,212,255,.18), transparent 55%),
        radial-gradient(900px 650px at 40% 110%, rgba(45,227,139,.10), transparent 55%),
        var(--bg);
      line-height:1.45;
    }

    a{color:inherit; text-decoration:none}
    button,input{font-family:inherit}

    /* Top bar */
    .topbar{
      position:sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(12px);
      background: rgba(7,10,18,.62);
      border-bottom: 1px solid var(--line);
    }

    .topbar-inner{
      max-width:var(--max);
      margin:0 auto;
      padding:14px 18px;
      display:flex;
      align-items:center;
      gap:14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 210px;
    }

    .logo{
      width:42px;height:42px;
      border-radius:14px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 40%),
        linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 10px 25px rgba(124,92,255,.22);
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.12);
    }

    .logo svg{opacity:.95}

    .brand h1{
      font-size:14px;
      margin:0;
      letter-spacing:.2px;
      line-height:1.15;
    }

    .brand p{
      margin:0;
      font-size:12px;
      color:var(--muted);
    }

    .search-wrap{
      flex:1;
      display:flex;
      gap:10px;
      align-items:center;
    }

    .search{
      flex:1;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 10px 25px rgba(0,0,0,.20);
    }

    .search input{
      flex:1;
      border:none;
      outline:none;
      background:transparent;
      color:var(--text);
      font-size:14px;
    }

    .search input::placeholder{color:rgba(233,236,246,.55)}

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      transition: transform .12s ease, background .12s ease;
      color:var(--text);
      user-select:none;
    }

    .pill:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}

    .pill small{color:var(--muted)}

    .nav{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .nav a{
      padding:10px 12px;
      border-radius: 999px;
      color:rgba(233,236,246,.9);
      border:1px solid transparent;
    }

    .nav a.active{
      border-color: rgba(124,92,255,.35);
      background: rgba(124,92,255,.12);
    }

    .burger{
      display:none;
      width:44px;height:44px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      cursor:pointer;
    }

    /* Layout */
    .container{
      max-width:var(--max);
      margin:0 auto;
      padding: 18px;
    }

    .hero{
      margin-top: 12px;
      padding: 22px;
      border-radius: var(--radius2);
      background:
        radial-gradient(700px 420px at 15% 10%, rgba(124,92,255,.22), transparent 55%),
        radial-gradient(680px 460px at 100% 0%, rgba(0,212,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.25fr .85fr;
      gap:18px;
      align-items:stretch;
    }

    .hero h2{
      margin:0;
      font-size:28px;
      line-height:1.1;
      letter-spacing:.2px;
    }

    .hero p{
      margin:10px 0 0;
      color:rgba(233,236,246,.82);
      max-width: 60ch;
    }

    .hero-actions{
      display:flex;
      gap:10px;
      margin-top: 16px;
      flex-wrap:wrap;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:12px 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color:var(--text);
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }

    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}

    .btn.primary{
      border-color: rgba(124,92,255,.45);
      background: linear-gradient(135deg, rgba(124,92,255,.22), rgba(0,212,255,.10));
    }

    .stats{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
      height:100%;
    }

    .stat{
      padding:14px;
      border-radius: 18px;
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.08);
    }

    .stat .k{font-size:20px; font-weight:800}
    .stat .t{color:var(--muted); font-size:12px; margin-top:2px}

    /* Sections */
    .section{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1.65fr .95fr;
      gap:18px;
      align-items:start;
    }

    .panel{
      border-radius: var(--radius2);
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .panel-head{
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
    }

    .panel-head h3{
      margin:0;
      font-size:14px;
      letter-spacing:.3px;
    }

    .panel-head .meta{color:var(--muted); font-size:12px}

    .panel-body{padding: 14px 14px 16px}

    /* Music grid */
    .filters{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom: 12px;
    }

    select{
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--text);
      outline:none;
      cursor:pointer;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }

    .card{
      border-radius: 20px;
      padding:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,16,32,.65);
      overflow:hidden;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      position:relative;
    }

    .card:hover{transform: translateY(-2px); border-color: rgba(124,92,255,.28)}

    .cover{
      width:100%;
      aspect-ratio: 1/1;
      border-radius: 18px;
      background:
        radial-gradient(circle at 25% 25%, rgba(255,255,255,.25), transparent 45%),
        linear-gradient(135deg, rgba(124,92,255,.25), rgba(0,212,255,.12));
      border:1px solid rgba(255,255,255,.10);
      display:grid;
      place-items:center;
      overflow:hidden;
    }

    .cover img{width:100%; height:100%; object-fit:cover; display:block}

    .card h4{
      margin:10px 0 0;
      font-size:14px;
      line-height:1.25;
    }

    .card .sub{
      margin:4px 0 0;
      color:var(--muted);
      font-size:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .badge{
      font-size:11px;
      padding:4px 8px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color:rgba(233,236,246,.9);
    }

    .badge.good{border-color: rgba(45,227,139,.35); background: rgba(45,227,139,.10)}
    .badge.hot{border-color: rgba(255,204,102,.35); background: rgba(255,204,102,.10)}

    .card .actions{
      margin-top: 10px;
      display:flex;
      gap:10px;
    }

    .iconbtn{
      flex:1;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      cursor:pointer;
      color:var(--text);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }

    .iconbtn:hover{transform: translateY(-1px); background: rgba(255,255,255,.05)}
    .iconbtn.primary{border-color: rgba(124,92,255,.45); background: rgba(124,92,255,.10)}

    /* News */
    .news-list{display:flex; flex-direction:column; gap:10px}

    .news{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,16,32,.60);
      padding:12px;
      transition: transform .12s ease, border-color .12s ease;
    }

    .news:hover{transform: translateY(-1px); border-color: rgba(0,212,255,.25)}

    .news .top{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }

    .thumb{
      width:58px; height:58px;
      border-radius: 16px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 45%),
        linear-gradient(135deg, rgba(0,212,255,.16), rgba(124,92,255,.14));
      border:1px solid rgba(255,255,255,.10);
      flex:0 0 auto;
      overflow:hidden;
    }

    .thumb img{width:100%; height:100%; object-fit:cover; display:block}

    .news h5{margin:0; font-size:13px; line-height:1.25}
    .news p{margin:6px 0 0; color:rgba(233,236,246,.78); font-size:12px}
    .news .meta{margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; color:var(--muted); font-size:11px}

    /* Footer */
    footer{
      margin-top: 18px;
      padding: 18px 0 30px;
      color:rgba(233,236,246,.7);
    }

    .foot{
      max-width:var(--max);
      margin:0 auto;
      padding:0 18px;
      display:flex;
      gap:14px;
      justify-content:space-between;
      flex-wrap:wrap;
      border-top: 1px solid rgba(255,255,255,.08);
      padding-top: 16px;
    }

    .foot a{color:rgba(233,236,246,.9)}
    .foot small{color:rgba(233,236,246,.6)}

    /* Modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      padding:18px;
      background: rgba(0,0,0,.55);
      z-index:100;
    }

    .modal.open{display:grid}

    .modal-card{
      width:min(760px, 100%);
      border-radius: 22px;
      background: rgba(11,16,32,.92);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .modal-head h4{margin:0; font-size:14px}

    .x{
      width:42px;height:42px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      color:var(--text);
    }

    .modal-body{padding:14px 16px 18px}

    .player{
      display:grid;
      grid-template-columns: 140px 1fr;
      gap:14px;
      align-items:center;
    }

    .player .bigcover{
      width:140px; height:140px;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
      background: linear-gradient(135deg, rgba(124,92,255,.25), rgba(0,212,255,.12));
    }

    .player .bigcover img{width:100%; height:100%; object-fit:cover; display:block}

    .player h3{margin:0; font-size:18px}
    .player .meta{margin-top:4px; color:var(--muted); font-size:13px}

    audio{width:100%; margin-top: 10px}

    .minirow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(0,0,0,.70);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(233,236,246,.95);
      font-size: 13px;
      display:none;
      z-index:200;
      box-shadow: 0 16px 40px rgba(0,0,0,.45);
    }

    .toast.show{display:block; animation: pop .16s ease}
    @keyframes pop{from{transform:translateX(-50%) translateY(6px); opacity:.0} to{transform:translateX(-50%) translateY(0); opacity:1}}

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{grid-template-columns: 1fr}
      .section{grid-template-columns: 1fr}
      .grid{grid-template-columns: repeat(2, minmax(0, 1fr))}
      .brand{min-width:auto}
    }

    @media (max-width: 680px){
      .topbar-inner{padding:12px 12px}
      .search-wrap{display:none}
      .nav{display:none}
      .burger{display:block}
      .grid{grid-template-columns: 1fr}
      .player{grid-template-columns: 1fr}
      .player .bigcover{width:100%; height:200px}
    }

    /* Mobile drawer */
    .drawer{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      z-index: 80;
      display:none;
    }

    .drawer.open{display:block}

    .drawer-panel{
      position:absolute;
      right:0; top:0; bottom:0;
      width: min(360px, 92vw);
      background: rgba(11,16,32,.96);
      border-left: 1px solid rgba(255,255,255,.10);
      box-shadow: -16px 0 60px rgba(0,0,0,.55);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    .drawer-panel .search-wrap{display:flex}
    .drawer-panel .nav{display:flex; flex-direction:column; align-items:stretch}
    .drawer-panel .nav a{border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.03)}

    .divider{height:1px; background: rgba(255,255,255,.08)}

    .muted{color:var(--muted)}

    /* Smooth scroll */
    html{scroll-behavior:smooth}
  </style>
</head>
<body>

  <!-- Topbar -->
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="#home" aria-label="DavidLutaloUg Home">
        <div class="logo" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18V6" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M9 6C9 6 11 4 14 4C17 4 19 6 19 9C19 12 17 14 14 14C11 14 9 12 9 12" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M9 18C9 19.6569 7.65685 21 6 21C4.34315 21 3 19.6569 3 18C3 16.3431 4.34315 15 6 15C7.65685 15 9 16.3431 9 18Z" stroke="white" stroke-width="2"/>
          </svg>
        </div>
        <div>
          <h1>DavidLutaloUg</h1>
          <p>Free music downloads ‚Ä¢ Trending news</p>
        </div>
      </a>

      <div class="search-wrap" role="search">
        <div class="search">
          <span aria-hidden="true">üîé</span>
          <input id="q" type="search" placeholder="Search songs, artists, genres‚Ä¶" autocomplete="off" />
          <button class="pill" id="clearBtn" title="Clear search" type="button">Clear</button>
        </div>
        <button class="pill" id="favBtn" type="button" title="Show favorites">
          ‚ù§Ô∏è <small id="favCount">0</small>
        </button>
        <button class="pill" id="dlBtn" type="button" title="Download history">
          ‚¨áÔ∏è <small id="dlCount">0</small>
        </button>
      </div>

      <nav class="nav" aria-label="Primary">
        <a href="#music" class="active" data-nav="music">Music</a>
        <a href="#news" data-nav="news">Trending News</a>
        <a href="#about" data-nav="about">About</a>
      </nav>

      <button class="burger" id="burger" aria-label="Open menu" type="button">‚ò∞</button>
    </div>
  </header>

  <!-- Mobile drawer -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-panel" role="dialog" aria-label="Menu">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
        <div style="display:flex; align-items:center; gap:10px;">
          <div class="logo" aria-hidden="true" style="width:40px;height:40px;border-radius:14px;">
            <span style="font-weight:900;">DL</span>
          </div>
          <div>
            <div style="font-weight:800;">DavidLutaloUg</div>
            <div class="muted" style="font-size:12px;">Music + News</div>
          </div>
        </div>
        <button class="x" id="closeDrawer" type="button" aria-label="Close">‚úï</button>
      </div>

      <div class="search-wrap" role="search">
        <div class="search" style="flex:1;">
          <span aria-hidden="true">üîé</span>
          <input id="qMobile" type="search" placeholder="Search songs, artists, genres‚Ä¶" autocomplete="off" />
        </div>
      </div>

      <div class="nav" aria-label="Primary mobile">
        <a href="#music" data-nav="music">üéµ Music</a>
        <a href="#news" data-nav="news">üì∞ Trending News</a>
        <a href="#about" data-nav="about">‚ÑπÔ∏è About</a>
      </div>

      <div class="divider"></div>

      <div style="display:flex; gap:10px;">
        <button class="pill" id="favBtnMobile" type="button">‚ù§Ô∏è Favorites <small id="favCountMobile">0</small></button>
        <button class="pill" id="dlBtnMobile" type="button">‚¨áÔ∏è Downloads <small id="dlCountMobile">0</small></button>
      </div>

      <div class="divider"></div>

      <div class="muted" style="font-size:12px;">
        Tip: Replace demo songs and news with your real content.
      </div>
    </div>
  </div>

  <main class="container" id="home">

    <!-- Hero -->
    <section class="hero" aria-label="Hero">
      <div class="hero-grid">
        <div>
          <h2>Download free music & stay updated with trending entertainment news.</h2>
          <p>
            Welcome to <b>DavidLutaloUg</b> ‚Äî a clean, fast, mobile-friendly music download website.
            Search songs, preview, and download. Plus, read trending news.
          </p>

          <div class="hero-actions">
            <a class="btn primary" href="#music">üéß Browse Music</a>
            <a class="btn" href="#news">üì∞ Trending News</a>
            <button class="btn" id="randomBtn" type="button">‚ú® Surprise me</button>
          </div>

          <p class="muted" style="margin-top:14px; font-size:12px;">
            ‚ö†Ô∏è Demo site: the ‚Äúdownload‚Äù links are placeholders. Replace them with your hosted MP3 files.
          </p>
        </div>

        <div class="stats" aria-label="Quick stats">
          <div class="stat">
            <div class="k" id="statSongs">‚Äî</div>
            <div class="t">Songs available</div>
          </div>
          <div class="stat">
            <div class="k" id="statGenres">‚Äî</div>
            <div class="t">Genres</div>
          </div>
          <div class="stat">
            <div class="k" id="statFavs">‚Äî</div>
            <div class="t">Favorites saved</div>
          </div>
          <div class="stat">
            <div class="k" id="statDls">‚Äî</div>
            <div class="t">Downloads tracked</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main section -->
    <section class="section">

      <!-- Music -->
      <div class="panel" id="music">
        <div class="panel-head">
          <div>
            <h3>üéµ Free Music Downloads</h3>
            <div class="meta" id="resultsMeta">Showing all songs</div>
          </div>
          <div class="meta" id="nowPlaying">Not playing</div>
        </div>

        <div class="panel-body">
          <div class="filters">
            <select id="genre">
              <option value="all">All genres</option>
            </select>
            <select id="sort">
              <option value="trending">Sort: Trending</option>
              <option value="new">Sort: Newest</option>
              <option value="popular">Sort: Most popular</option>
              <option value="az">Sort: A ‚Üí Z</option>
            </select>
            <button class="pill" id="reset" type="button">Reset</button>
          </div>

          <div class="grid" id="musicGrid" aria-live="polite"></div>
        </div>
      </div>

      <!-- News -->
      <aside class="panel" id="news">
        <div class="panel-head">
          <div>
            <h3>üì∞ Trending News</h3>
            <div class="meta">Fresh entertainment updates</div>
          </div>
          <button class="pill" id="refreshNews" type="button">‚Üª Refresh</button>
        </div>
        <div class="panel-body">
          <div class="news-list" id="newsList"></div>
        </div>
      </aside>

    </section>

    <!-- About -->
    <section class="panel" id="about" style="margin-top:18px;">
      <div class="panel-head">
        <div>
          <h3>‚ÑπÔ∏è About DavidLutaloUg</h3>
          <div class="meta">Simple, fast, and mobile-first</div>
        </div>
      </div>
      <div class="panel-body">
        <p style="margin:0; color:rgba(233,236,246,.86)">
          This website template is built with <b>pure HTML, CSS, and JavaScript</b>.
          It includes search, sorting, genre filters, a mini music preview player, favorites,
          and download tracking.
        </p>

        <div style="margin-top:12px; display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px;">
          <div class="stat">
            <div class="k">‚ö°</div>
            <div class="t">Fast loading</div>
          </div>
          <div class="stat">
            <div class="k">üì±</div>
            <div class="t">Responsive design</div>
          </div>
          <div class="stat">
            <div class="k">üîí</div>
            <div class="t">No frameworks needed</div>
          </div>
        </div>

        <p class="muted" style="margin:14px 0 0; font-size:12px;">
          Want this as a multi-page site (Home / Music / News / Contact) or connected to a real database?
          Tell me and I‚Äôll upgrade it.
        </p>
      </div>
    </section>

  </main>

  <footer>
    <div class="foot">
      <div>
        <div style="font-weight:800;">DavidLutaloUg</div>
        <small>¬© <span id="year"></span> ‚Ä¢ Free music downloads + trending news.</small>
      </div>
      <div style="display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
        <a href="#music">Music</a>
        <a href="#news">News</a>
        <a href="#about">About</a>
        <small class="muted">Built with HTML/CSS/JS</small>
      </div>
    </div>
  </footer>

  <!-- Player Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-label="Music player">
      <div class="modal-head">
        <h4>Now playing</h4>
        <button class="x" id="closeModal" type="button" aria-label="Close">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="player">
          <div class="bigcover"><img id="mCover" alt="Cover" /></div>
          <div>
            <h3 id="mTitle">‚Äî</h3>
            <div class="meta" id="mMeta">‚Äî</div>
            <audio id="audio" controls preload="none"></audio>
            <div class="minirow">
              <button class="btn primary" id="mDownload" type="button">‚¨áÔ∏è Download</button>
              <button class="btn" id="mFav" type="button">‚ù§Ô∏è Favorite</button>
              <button class="btn" id="mShare" type="button">üîó Share</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Saved</div>

  <script>
    // ---------------------------
    // Demo data (replace with real content)
    // ---------------------------

    const MUSIC = [
      {
        id: "dlug-001",
        title: "Kampala Nights",
        artist: "David Lutalo",
        genre: "Afrobeat",
        year: 2025,
        sizeMB: 5.1,
        trendingScore: 92,
        plays: 42110,
        dateAdded: "2026-01-18",
        cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2022/03/15/audio_4f0c7f6a0d.mp3?filename=hip-hop-11254.mp3",
        file: "assets/music/kampala-nights.mp3",
        tag: "HOT"
      },
      {
        id: "dlug-002",
        title: "Love in Lugogo",
        artist: "David Lutalo",
        genre: "Afro Pop",
        year: 2024,
        sizeMB: 4.6,
        trendingScore: 84,
        plays: 31122,
        dateAdded: "2026-01-25",
        cover: "https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2022/01/20/audio_9f6bce9c9d.mp3?filename=lofi-study-112191.mp3",
        file: "assets/music/love-in-lugogo.mp3",
        tag: "NEW"
      },
      {
        id: "dlug-003",
        title: "Dancehall Friday",
        artist: "DJ Nansana",
        genre: "Dancehall",
        year: 2025,
        sizeMB: 6.2,
        trendingScore: 79,
        plays: 28744,
        dateAdded: "2026-01-08",
        cover: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2022/10/03/audio_0c3b4c8f33.mp3?filename=street-party-121225.mp3",
        file: "assets/music/dancehall-friday.mp3",
        tag: "TRENDING"
      },
      {
        id: "dlug-004",
        title: "Ghetto Prayer",
        artist: "Klaudi",
        genre: "Hip Hop",
        year: 2023,
        sizeMB: 5.8,
        trendingScore: 73,
        plays: 19011,
        dateAdded: "2025-12-20",
        cover: "https://images.unsplash.com/photo-1485579149621-3123dd979885?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2021/08/09/audio_7f4dce0d1b.mp3?filename=trap-future-bass-13198.mp3",
        file: "assets/music/ghetto-prayer.mp3",
        tag: ""
      },
      {
        id: "dlug-005",
        title: "Boda Boda Anthem",
        artist: "MC Kisenyi",
        genre: "Afrobeat",
        year: 2025,
        sizeMB: 4.9,
        trendingScore: 88,
        plays: 38212,
        dateAdded: "2026-02-02",
        cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2022/11/10/audio_7a4c6f7df8.mp3?filename=afrobeat-126535.mp3",
        file: "assets/music/boda-boda-anthem.mp3",
        tag: "HOT"
      },
      {
        id: "dlug-006",
        title: "Soft Gospel (Live)",
        artist: "Sarah M",
        genre: "Gospel",
        year: 2024,
        sizeMB: 7.0,
        trendingScore: 65,
        plays: 14009,
        dateAdded: "2025-11-15",
        cover: "https://images.unsplash.com/photo-1519682337058-a94d519337bc?auto=format&fit=crop&w=900&q=60",
        preview: "https://cdn.pixabay.com/download/audio/2022/08/02/audio_3c72c8cc2b.mp3?filename=inspiring-ambient-116199.mp3",
        file: "assets/music/soft-gospel-live.mp3",
        tag: ""
      }
    ];

    const NEWS = [
      {
        id: "n1",
        title: "Top 10 Ugandan songs trending this week",
        excerpt: "A quick roundup of the biggest hits currently taking over Kampala playlists.",
        category: "Trending",
        time: "2 hours ago",
        cover: "https://images.unsplash.com/photo-1516280440614-37939bbacd81?auto=format&fit=crop&w=600&q=60"
      },
      {
        id: "n2",
        title: "David LutaloUg announces new EP dropping soon",
        excerpt: "The artist teases a new sound blending Afrobeat and Dancehall.",
        category: "Music",
        time: "Yesterday",
        cover: "https://images.unsplash.com/photo-1518972559570-7cc1309f3229?auto=format&fit=crop&w=600&q=60"
      },
      {
        id: "n3",
        title: "Concert guide: Weekend shows in Kampala",
        excerpt: "Where to go, what to wear, and the hottest stages this weekend.",
        category: "Events",
        time: "3 days ago",
        cover: "https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&w=600&q=60"
      },
      {
        id: "n4",
        title: "New dance challenge goes viral on TikTok",
        excerpt: "Creators across East Africa are using this beat ‚Äî and it‚Äôs spreading fast.",
        category: "Viral",
        time: "4 days ago",
        cover: "https://images.unsplash.com/photo-1523755231516-e43fd2e8dca5?auto=format&fit=crop&w=600&q=60"
      }
    ];

    // ---------------------------
    // Utilities
    // ---------------------------

    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    const LS = {
      get(key, fallback){
        try{ return JSON.parse(localStorage.getItem(key)) ?? fallback; }
        catch{ return fallback; }
      },
      set(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
    };

    const state = {
      q: "",
      genre: "all",
      sort: "trending",
      onlyFavs: false,
      music: [...MUSIC],
      news: [...NEWS],
      current: null,
      favorites: new Set(LS.get("dlug_favs", [])),
      downloads: LS.get("dlug_downloads", [])
    };

    function toast(msg){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._t);
      toast._t = setTimeout(() => t.classList.remove("show"), 1600);
    }

    function fmt(n){
      return new Intl.NumberFormat().format(n);
    }

    function uniq(arr){
      return [...new Set(arr)];
    }

    function safeDate(s){
      const d = new Date(s);
      return isNaN(d.getTime()) ? new Date(0) : d;
    }

    // ---------------------------
    // Rendering
    // ---------------------------

    function renderGenres(){
      const genres = uniq(state.music.map(m => m.genre)).sort();
      const sel = $("#genre");
      sel.innerHTML = `<option value="all">All genres</option>` +
        genres.map(g => `<option value="${escapeHtml(g)}">${escapeHtml(g)}</option>`).join("");
    }

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function getFiltered(){
      let items = [...state.music];

      const q = state.q.trim().toLowerCase();
      if(q){
        items = items.filter(m => {
          const hay = `${m.title} ${m.artist} ${m.genre} ${m.year}`.toLowerCase();
          return hay.includes(q);
        });
      }

      if(state.genre !== "all"){
        items = items.filter(m => m.genre === state.genre);
      }

      if(state.onlyFavs){
        items = items.filter(m => state.favorites.has(m.id));
      }

      // Sorting
      const s = state.sort;
      items.sort((a,b) => {
        if(s === "trending") return (b.trendingScore - a.trendingScore);
        if(s === "popular") return (b.plays - a.plays);
        if(s === "new") return (safeDate(b.dateAdded) - safeDate(a.dateAdded));
        if(s === "az") return a.title.localeCompare(b.title);
        return 0;
      });

      return items;
    }

    function renderMusic(){
      const items = getFiltered();
      const grid = $("#musicGrid");

      $("#resultsMeta").textContent =
        items.length === state.music.length && !state.q && state.genre === "all" && !state.onlyFavs
          ? `Showing all songs (${items.length})`
          : `Showing ${items.length} result(s)`;

      if(items.length === 0){
        grid.innerHTML = `
          <div class="stat" style="grid-column: 1 / -1;">
            <div class="k">üòï</div>
            <div class="t">No songs match your search. Try a different keyword.</div>
          </div>
        `;
        return;
      }

      grid.innerHTML = items.map(m => {
        const isFav = state.favorites.has(m.id);
        const tag = (m.tag || "").toUpperCase();
        const badge = tag === "HOT" ? `<span class="badge hot">üî• HOT</span>`
                    : tag === "NEW" ? `<span class="badge good">üÜï NEW</span>`
                    : tag === "TRENDING" ? `<span class="badge">üìà TRENDING</span>`
                    : ``;

        return `
          <article class="card" data-id="${m.id}">
            <div class="cover">
              <img loading="lazy" alt="${escapeHtml(m.title)} cover" src="${m.cover}" />
            </div>

            <h4>${escapeHtml(m.title)}</h4>
            <div class="sub">
              <span>${escapeHtml(m.artist)}</span>
              <span class="badge">${escapeHtml(m.genre)}</span>
              ${badge}
            </div>

            <div class="sub" style="margin-top:8px;">
              <span>‚ñ∂ ${fmt(m.plays)} plays</span>
              <span>‚Ä¢</span>
              <span>${m.sizeMB.toFixed(1)} MB</span>
            </div>

            <div class="actions">
              <button class="iconbtn primary" data-action="play">‚ñ∂ Preview</button>
              <button class="iconbtn" data-action="fav">${isFav ? "üíú Saved" : "‚ù§Ô∏è Save"}</button>
            </div>

            <div class="actions">
              <a class="iconbtn" data-action="download" href="${m.file}" download>
                ‚¨áÔ∏è Download
              </a>
              <button class="iconbtn" data-action="share">üîó Share</button>
            </div>
          </article>
        `;
      }).join("");

      // attach events
      $$(".card", grid).forEach(card => {
        const id = card.getAttribute("data-id");
        const song = state.music.find(x => x.id === id);

        $$("[data-action]", card).forEach(el => {
          el.addEventListener("click", (e) => {
            const action = el.getAttribute("data-action");

            if(action === "play"){
              e.preventDefault();
              openPlayer(song);
            }

            if(action === "fav"){
              e.preventDefault();
              toggleFav(song);
            }

            if(action === "share"){
              e.preventDefault();
              shareSong(song);
            }

            if(action === "download"){
              // let the browser download, but we track it
              trackDownload(song);
            }
          });
        });
      });

      updateCounts();
      updateStats();
    }

    function renderNews(){
      const list = $("#newsList");
      const items = [...state.news];

      list.innerHTML = items.map(n => {
        return `
          <article class="news">
            <div class="top">
              <div class="thumb"><img loading="lazy" alt="" src="${n.cover}" /></div>
              <div>
                <h5>${escapeHtml(n.title)}</h5>
                <p>${escapeHtml(n.excerpt)}</p>
                <div class="meta">
                  <span class="badge">${escapeHtml(n.category)}</span>
                  <span>üïí ${escapeHtml(n.time)}</span>
                </div>
              </div>
            </div>
          </article>
        `;
      }).join("");
    }

    function updateCounts(){
      const fav = state.favorites.size;
      const dl = state.downloads.length;

      $("#favCount").textContent = fav;
      $("#dlCount").textContent = dl;
      $("#favCountMobile").textContent = fav;
      $("#dlCountMobile").textContent = dl;
    }

    function updateStats(){
      const genres = uniq(state.music.map(m => m.genre)).length;
      $("#statSongs").textContent = fmt(state.music.length);
      $("#statGenres").textContent = fmt(genres);
      $("#statFavs").textContent = fmt(state.favorites.size);
      $("#statDls").textContent = fmt(state.downloads.length);
    }

    // ---------------------------
    // Player
    // ---------------------------

    function openPlayer(song){
      state.current = song;
      $("#mCover").src = song.cover;
      $("#mTitle").textContent = song.title;
      $("#mMeta").textContent = `${song.artist} ‚Ä¢ ${song.genre} ‚Ä¢ ${song.year} ‚Ä¢ ${song.sizeMB.toFixed(1)} MB`;

      const audio = $("#audio");
      audio.pause();
      audio.src = song.preview;
      audio.currentTime = 0;

      $("#mDownload").onclick = () => {
        trackDownload(song);
        // Start download
        const a = document.createElement("a");
        a.href = song.file;
        a.download = "";
        document.body.appendChild(a);
        a.click();
        a.remove();
      };

      $("#mFav").onclick = () => toggleFav(song);

      $("#mShare").onclick = () => shareSong(song);

      $("#nowPlaying").textContent = `Playing: ${song.title}`;

      $("#modal").classList.add("open");
      $("#modal").setAttribute("aria-hidden","false");
    }

    function closePlayer(){
      const audio = $("#audio");
      audio.pause();
      $("#modal").classList.remove("open");
      $("#modal").setAttribute("aria-hidden","true");
    }

    // ---------------------------
    // Favorites + Downloads
    // ---------------------------

    function toggleFav(song){
      if(state.favorites.has(song.id)){
        state.favorites.delete(song.id);
        toast("Removed from favorites");
      } else {
        state.favorites.add(song.id);
        toast("Saved to favorites");
      }

      LS.set("dlug_favs", [...state.favorites]);
      updateCounts();
      updateStats();
      renderMusic();
    }

    function trackDownload(song){
      const item = {
        id: song.id,
        title: song.title,
        artist: song.artist,
        at: new Date().toISOString()
      };
      state.downloads.unshift(item);
      state.downloads = state.downloads.slice(0, 60);
      LS.set("dlug_downloads", state.downloads);
      updateCounts();
      updateStats();
      toast("Download started");
    }

    // ---------------------------
    // Sharing
    // ---------------------------

    async function shareSong(song){
      const url = `${location.origin}${location.pathname}#music`;
      const text = `${song.title} ‚Äî ${song.artist} (via DavidLutaloUg)`;

      try{
        if(navigator.share){
          await navigator.share({ title: song.title, text, url });
          toast("Shared");
        } else {
          await navigator.clipboard.writeText(`${text} ${url}`);
          toast("Link copied");
        }
      } catch {
        toast("Could not share");
      }
    }

    // ---------------------------
    // Drawer
    // ---------------------------

    function openDrawer(){
      $("#drawer").classList.add("open");
      $("#drawer").setAttribute("aria-hidden","false");
      $("#qMobile").value = state.q;
      setTimeout(() => $("#qMobile").focus(), 50);
    }

    function closeDrawer(){
      $("#drawer").classList.remove("open");
      $("#drawer").setAttribute("aria-hidden","true");
    }

    // ---------------------------
    // Event wiring
    // ---------------------------

    function wire(){
      $("#year").textContent = new Date().getFullYear();

      // Search (desktop)
      $("#q").addEventListener("input", (e) => {
        state.q = e.target.value;
        renderMusic();
      });

      // Search (mobile)
      $("#qMobile").addEventListener("input", (e) => {
        state.q = e.target.value;
        $("#q").value = state.q;
        renderMusic();
      });

      $("#clearBtn").addEventListener("click", () => {
        state.q = "";
        $("#q").value = "";
        $("#qMobile").value = "";
        renderMusic();
        toast("Search cleared");
      });

      $("#genre").addEventListener("change", (e) => {
        state.genre = e.target.value;
        renderMusic();
      });

      $("#sort").addEventListener("change", (e) => {
        state.sort = e.target.value;
        renderMusic();
      });

      $("#reset").addEventListener("click", () => {
        state.q = "";
        state.genre = "all";
        state.sort = "trending";
        state.onlyFavs = false;

        $("#q").value = "";
        $("#qMobile").value = "";
        $("#genre").value = "all";
        $("#sort").value = "trending";

        renderMusic();
        toast("Reset done");
      });

      // Favorites toggles
      function toggleFavMode(){
        state.onlyFavs = !state.onlyFavs;
        renderMusic();
        toast(state.onlyFavs ? "Showing favorites" : "Showing all songs");
      }

      $("#favBtn").addEventListener("click", toggleFavMode);
      $("#favBtnMobile").addEventListener("click", () => { toggleFavMode(); closeDrawer(); });

      // Downloads history
      function showDownloads(){
        if(state.downloads.length === 0){
          toast("No downloads yet");
          return;
        }
        const latest = state.downloads.slice(0, 8)
          .map(d => `‚Ä¢ ${d.title} ‚Äî ${d.artist}`)
          .join("\n");

        alert("Recent downloads:\n\n" + latest + (state.downloads.length > 8 ? "\n\n(Showing last 8)" : ""));
      }

      $("#dlBtn").addEventListener("click", showDownloads);
      $("#dlBtnMobile").addEventListener("click", () => { showDownloads(); closeDrawer(); });

      // Drawer
      $("#burger").addEventListener("click", openDrawer);
      $("#closeDrawer").addEventListener("click", closeDrawer);
      $("#drawer").addEventListener("click", (e) => {
        if(e.target.id === "drawer") closeDrawer();
      });

      // Nav active state
      $$("nav a").forEach(a => {
        a.addEventListener("click", () => {
          $$("nav a").forEach(x => x.classList.remove("active"));
          a.classList.add("active");
        });
      });

      // Modal close
      $("#closeModal").addEventListener("click", closePlayer);
      $("#modal").addEventListener("click", (e) => {
        if(e.target.id === "modal") closePlayer();
      });

      // ESC
      window.addEventListener("keydown", (e) => {
        if(e.key === "Escape"){
          closeDrawer();
          closePlayer();
        }
      });

      // Surprise me
      $("#randomBtn").addEventListener("click", () => {
        const items = getFiltered();
        const pick = items[Math.floor(Math.random() * items.length)] || state.music[0];
        if(pick) openPlayer(pick);
      });

      // Refresh news (demo)
      $("#refreshNews").addEventListener("click", () => {
        state.news = shuffle([...NEWS]);
        renderNews();
        toast("News refreshed");
      });

      // Prevent empty # links
      $$("a[href='#']").forEach(a => a.addEventListener("click", e => e.preventDefault()));
    }

    function shuffle(arr){
      for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // ---------------------------
    // Init
    // ---------------------------

    function init(){
      renderGenres();
      renderMusic();
      renderNews();
      updateCounts();
      updateStats();
      wire();
    }

    init();
  </script>
</body>
</html>
